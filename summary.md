# desktop功能需求与设计实现文档
内容：

- 项目简介
- 功能需求
- 项目进展
- 设计实现
- 存在问题


# 项目简介
本项目属于openthos项目的一部分，提供电脑版的Launcher。

### 当前开发人员 (20160801-20160831)
王之旭

# 功能需求
### 桌面效果图
![2016-08-22效果图](image/Launcher-2016-08-22.png)
<br />  
![2016-08-10效果图](image/Launcher-2016-08-10.png)
<br />

### 桌面基本元素
我的电脑，回收站，用户个人文件，文件夹<br />*注：APP快捷方式第一版暂不考虑*



### 桌面基本操作
左键单击，左键双击，右键单击，左键按住拖动

### 桌面基本操作详细说明
|元素|操作|描述|
|---|---|---|
|普通文档|双击|打开文档关联的程序
|普通文档|右键单击|打开菜单
|普通文档|单击|选中
|普通文档|拖动|图标自由拖动，位置与网格对齐
|空白处|右键单击|打开桌面菜单
|空白处|左键拖动框选|选择文件
|空白处|Shift+左键|选择文件
|空白处|Ctrl+左键|选择文件

## 右键菜单
### 右键桌面空白处打开桌面菜单
|元素|操作|描述|
|---|---|---|
|粘贴|单击|粘贴|
|排序|放置鼠标在上面|出现排序方式子菜单并选择相应的排序方式|
|新建文件夹|单击|在桌面新建文件夹|
|显示设置|单击|打开显示设置窗口|
|*更改壁纸*|单击|打开壁纸设置窗口|

### 右键我的电脑
|元素|操作|描述|
|---|---|---|
|打开|单击|打开文件管理器
|关于本机|单击|进入关于本机设置

### 右键普通文件图标
|元素|操作|描述|
|---|---|---|
|打开|单击|打开应用程序
|打开方式|单击|出现打开方式选择对话框
|*压缩*|单击|打开压缩对话框
|*解压*|单击|打开解压对话框
|剪切|单击|剪切
|复制|单击|复制
|删除|单击|打开删除对话框询问是否删除，确定后放入回收站
|重命名|单击|重命名
|属性|单击|出现属性对话框

### 右键回收站
|元素|操作|描述|
|---|---|---|
|打开|单击|回收站
|清空回收站|单击|清空回收站中的所有文件

#项目进展
|计划|完成|开始时间|预计结束时间|进度|
|---|---|---|---|---|
|调研分析系统Launcher|√|2016-8-3|2016-08-12|90%|
|搭建Openthos桌面版本Launcher界面显示|√|2016-08-03|2016-08-15|90%|
|完成右键菜单显示，左键双击，拖动等基本行为|√|2016-08-15|2016-08-17|90%|
|修改桌面图标，图标摆放显示，阴影等，融合壁纸选择等多个功能|×|2016-08-23|2016-08-26|90%|
|更换Launcher的Icon|√|2016-08-22|2016-08-23|100%|
|右键菜单压缩，解压缩|×|2016-09-01||0%|
|完成右键菜单大部分功能|√|2016-08-19|2016-08-23|90%|

|右键菜单|进度|完成时间|
|---|---|---|
|打开|100%|2016.08.22|
|新建文件夹|100%|2016.08.22|
|显示设置|100%|2016.08.22|
|更改壁纸|90%|2016.08.31|
|关于本机|100%|2016.08.22|
|删除|100%|2016.08.22|
|重命名|100%|2016.08.23|
|属性|70%|2016.08.31|
|清空回收站|100%|2016.08.22|
|排序|100%|2016.08.22|
|剪贴|||
|复制|||
|粘贴|||
|压缩|||
|解压缩|||

# 设计实现
##代码结构及说明
代码的主要结构如图所示：[Desktop代码结构说明.md](https://github.com/openthos/desktop-analysis/blob/master/doc/Desktop代码结构说明.md)<br \>
##功能设计与实现
功能设计与实现：[Desktop设计与实现.md](https://github.com/openthos/desktop-analysis/blob/master/doc/Desktop设计与实现.md)<br \>
##工程文件地址
请查看：[OpenthosLauncher](https://github.com/openthos/desktop-analysis/tree/master/OpenthosLauncher)<br \>
##与Launcher3合并后工程文件地址（壁纸切换）<br \>
需要将OpenthosLauncher工程所有的R文件改成Launcher3的R文件，并且手动融合两个版本的res文件<br \>
并且修改原来Launcher3的Android.mk文件中LOCAL_MODULE字段，改成其他任意字段都可以。<br \>
请查看：[OtoLauncher](https://github.com/openthos/desktop-analysis/tree/master/OtoLauncher)<br \>

#存在问题
### 已知bug\未完成功能
|问题描述|
|---|
|文件或文件夹属性中创建时间，修改时间，显示有误，原因是系统启动后，如果没有针对时区进行设置，会产生时区的问题，且系统默认时区有误|
|与系统FileManager的交互，这个需要到时候与FileManager编写者沟通|
|压缩，解压缩未完成|
|移动，复制，剪贴等逻辑代码需要从java版本升级到linux版本|
|桌面图标拖拽需长按|
|文件重命名本地文件重命名失败|
|文件排序顺序不合理|
|右键菜单更换壁纸需要窗口化运行，可能需要再写一个APP|
